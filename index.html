<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åŒ—æ­æ¥µç°¡ç”Ÿæ´»åŠ©æ‰‹</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <style>
        /* åŒ—æ­é¢¨æ ¼è‰²æ¿ (æ·¡é›…ã€è‡ªç„¶) */
        :root {
            --color-primary: #4C5A67; /* æ·±ç°è— (æ–‡å­—/æ¨™é¡Œ) */
            --color-secondary: #B0C4DE; /* æ·ºç°è— (è¼”åŠ©/é‚Šæ¡†) */
            --color-background: #F8F8F8; /* å¹¾ä¹ç™½è‰² (èƒŒæ™¯) */
            --color-accent: #A3BE8C; /* è‹”è˜šç¶  (é»ç¶´/é‡é») */
            --color-card: #FFFFFF; /* å¡ç‰‡èƒŒæ™¯ */
        }
        /* å®šç¾© Tailwind é¡è‰²ä»¥ä¾¿åœ¨ class ä¸­ä½¿ç”¨ */
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'primary': 'var(--color-primary)',
                        'secondary': 'var(--color-secondary)',
                        'background': 'var(--color-background)',
                        'accent': 'var(--color-accent)',
                        'card': 'var(--color-card)',
                    }
                }
            }
        }
        /* ä¿æŒæ‰‹æ©ŸAppç¾æ„Ÿï¼šè®“é é¢æ’æ»¿è¢å¹•ä¸¦éš±è—æ²è»¸ */
        body {
            background-color: var(--color-background);
        }
        #app {
            max-width: 480px; /* æ¨¡æ“¬æ‰‹æ©Ÿå¯¬åº¦ */
            margin: 0 auto;
            min-height: 100vh;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.05); /* è¼•å¾®é™°å½±ï¼Œå¢åŠ è³ªæ„Ÿ */
            background-color: var(--color-background);
            padding-bottom: 70px; /* ç‚ºåº•éƒ¨å°èˆªç•™å‡ºç©ºé–“ */
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>

<div id="app">

    <header class="p-4 bg-card shadow-sm sticky top-0 z-10">
        <h1 class="text-xl font-bold text-primary">åŒ—æ­æ¥µç°¡ç”Ÿæ´»</h1>
        <p class="text-sm text-secondary mt-1">{{ pageTitle }}</p>
    </header>

    <main class="p-4">

        <section v-if="currentPage === 'schedule'" class="space-y-4">
            <h2 class="text-lg font-semibold text-primary mb-3">ğŸ§­ æˆ‘çš„è¡Œç¨‹</h2>
            <div v-for="(item, index) in schedule" :key="index" class="bg-card p-4 rounded-xl shadow-md border-l-4" :class="{'border-accent': item.completed, 'border-secondary': !item.completed}">
                <div class="flex items-center text-sm mb-2 text-primary" v-if="item.weather">
                    <i class="fas fa-sun mr-2 text-yellow-500"></i>
                    <span>{{ item.weather.location }}ï¼š{{ item.weather.temp }}Â°Cï¼Œ{{ item.weather.condition }}</span>
                </div>

                <div class="flex justify-between items-center">
                    <div>
                        <p class="text-primary font-bold">{{ item.time }} - {{ item.title }}</p>
                        <p class="text-sm text-secondary mt-1">{{ item.location }}</p>
                    </div>
                    <button @click="navigateTo(item.location)" class="bg-accent text-white p-2 rounded-full hover:opacity-90 transition-opacity">
                        <i class="fas fa-route"></i>
                    </button>
                </div>
            </div>
            <button class="w-full bg-primary text-white py-3 rounded-lg hover:bg-opacity-90 transition-colors mt-4">
                <i class="fas fa-plus mr-2"></i>æ–°å¢è¡Œç¨‹
            </button>
        </section>

        <section v-if="currentPage === 'account'" class="space-y-4">
            <h2 class="text-lg font-semibold text-primary mb-3">ğŸ’° ç°¡ç´„è¨˜å¸³</h2>

            <div class="bg-card p-4 rounded-xl shadow-md border-l-4 border-accent">
                <p class="text-sm text-secondary">æœ¬æœˆç¸½æ”¯å‡º</p>
                <p class="text-3xl font-bold text-primary mt-1">NT$ {{ totalExpense.toLocaleString() }}</p>
            </div>

            <div class="bg-card p-4 rounded-xl shadow-md space-y-3">
                <h3 class="font-bold text-primary">è¨˜éŒ„æ–°æ”¯å‡º</h3>
                
                <div>
                    <label for="category" class="block text-sm font-medium text-primary mb-1">é¡åˆ¥</label>
                    <select id="category" v-model="newExpense.category" class="w-full p-2 border border-secondary rounded-lg bg-background text-primary focus:border-accent focus:ring focus:ring-accent focus:ring-opacity-50 transition-shadow">
                        <option value="" disabled>è«‹é¸æ“‡æ”¯å‡ºé¡åˆ¥</option>
                        <option v-for="cat in expenseCategories" :key="cat" :value="cat">{{ cat }}</option>
                    </select>
                </div>

                <div>
                    <label for="amount" class="block text-sm font-medium text-primary mb-1">é‡‘é¡ (NT$)</label>
                    <input type="number" id="amount" v-model.number="newExpense.amount" class="w-full p-2 border border-secondary rounded-lg bg-background text-primary focus:border-accent focus:ring focus:ring-accent focus:ring-opacity-50 transition-shadow" placeholder="è¼¸å…¥é‡‘é¡">
                </div>

                <button @click="addExpense" class="w-full bg-accent text-white py-2 rounded-lg hover:bg-opacity-90 transition-colors">
                    <i class="fas fa-save mr-2"></i>æ–°å¢è¨˜éŒ„
                </button>
            </div>
            
            <div class="space-y-2 pt-2">
                <div v-for="(exp, index) in expenses" :key="index" class="flex justify-between items-center bg-card p-3 rounded-lg shadow-sm">
                    <div class="flex items-center">
                        <span class="text-xl mr-3" :class="categoryIcon(exp.category)"></span>
                        <div>
                            <p class="font-medium text-primary">{{ exp.category }}</p>
                            <p class="text-xs text-secondary">{{ exp.date }}</p>
                        </div>
                    </div>
                    <p class="font-bold text-red-500">- NT$ {{ exp.amount.toLocaleString() }}</p>
                </div>
            </div>
        </section>

        <section v-if="currentPage === 'list'" class="space-y-4">
            <h2 class="text-lg font-semibold text-primary mb-3">ğŸ›’ æ¥µç°¡è³¼ç‰©</h2>

            <div class="flex space-x-2">
                <input type="text" v-model="newItemText" placeholder="è¼¸å…¥è³¼ç‰©é …ç›®..." class="flex-grow p-2 border border-secondary rounded-lg bg-background text-primary focus:border-accent focus:ring focus:ring-accent focus:ring-opacity-50 transition-shadow">
                <button @click="addItem" class="bg-primary text-white p-2 rounded-lg hover:bg-opacity-90 transition-colors">
                    <i class="fas fa-plus"></i>
                </button>
            </div>

            <div class="space-y-2 pt-2">
                <div v-for="(item, index) in shoppingList" :key="index" class="bg-card p-3 rounded-lg shadow-sm flex justify-between items-center transition-all" :class="{'opacity-60': item.completed}">
                    <label class="flex items-center space-x-3 cursor-pointer flex-grow">
                        <input type="checkbox" v-model="item.completed" class="form-checkbox h-5 w-5 text-accent rounded border-secondary focus:ring-accent transition-colors">
                        <span class="text-primary" :class="{'line-through text-secondary': item.completed}">{{ item.text }}</span>
                    </label>
                    <button @click="removeItem(index)" class="text-secondary hover:text-red-500 transition-colors">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
            </div>
        </section>

        <section v-if="currentPage === 'map'" class="space-y-4">
            <h2 class="text-lg font-semibold text-primary mb-3">ğŸ“ åœ°åœ–èˆ‡åœ°é»</h2>
            <div class="bg-card p-4 rounded-xl shadow-md h-80 flex items-center justify-center text-center text-secondary">
                <p>åœ°åœ– API æ¸²æŸ“å€</p>
                <p class="absolute mt-10 text-sm">ï¼ˆå¯¦éš›éƒ¨ç½²éœ€ä½¿ç”¨ Google Maps API Keyï¼‰</p>
                
            </div>
            
            <p class="text-sm text-secondary">æç¤ºï¼šåœ¨è¡Œç¨‹è¡¨é»æ“Šå°èˆªæŒ‰éˆ•å¯æŸ¥çœ‹åœ°é»ã€‚</p>
        </section>

    </main>

    <nav class="fixed bottom-0 left-0 right-0 max-w-sm mx-auto bg-card border-t border-secondary shadow-lg flex justify-around p-2 z-20 rounded-t-xl">
        <button @click="changePage('schedule')" :class="{'text-accent': currentPage === 'schedule', 'text-secondary': currentPage !== 'schedule'}" class="flex flex-col items-center p-2 rounded-lg hover:bg-background transition-colors">
            <i class="fas fa-calendar-alt text-xl"></i>
            <span class="text-xs mt-1">è¡Œç¨‹</span>
        </button>
        <button @click="changePage('account')" :class="{'text-accent': currentPage === 'account', 'text-secondary': currentPage !== 'account'}" class="flex flex-col items-center p-2 rounded-lg hover:bg-background transition-colors">
            <i class="fas fa-wallet text-xl"></i>
            <span class="text-xs mt-1">è¨˜å¸³</span>
        </button>
        <button @click="changePage('list')" :class="{'text-accent': currentPage === 'list', 'text-secondary': currentPage !== 'list'}" class="flex flex-col items-center p-2 rounded-lg hover:bg-background transition-colors">
            <i class="fas fa-shopping-basket text-xl"></i>
            <span class="text-xs mt-1">è³¼ç‰©</span>
        </button>
        <button @click="changePage('map')" :class="{'text-accent': currentPage === 'map', 'text-secondary': currentPage !== 'map'}" class="flex flex-col items-center p-2 rounded-lg hover:bg-background transition-colors">
            <i class="fas fa-map-marked-alt text-xl"></i>
            <span class="text-xs mt-1">åœ°åœ–</span>
        </button>
    </nav>
</div>

<script>
    const { createApp, ref, computed } = Vue

    createApp({
        data() {
            return {
                currentPage: 'schedule', // é è¨­é é¢
                pageTitles: {
                    schedule: 'ç”Ÿæ´»ä¸­çš„ç¾å¥½è¦åŠƒ',
                    account: 'æ¸…æ¥šç°¡æ½”çš„è²¡å‹™ç®¡ç†',
                    list: 'ä¸å†éºæ¼ä»»ä½•ç´°ç¯€',
                    map: 'æ¢ç´¢ä½ çš„å‘¨é‚Šä¸–ç•Œ'
                },
                // --- è¡Œç¨‹è¡¨è³‡æ–™ ---
                schedule: [
                    { time: '09:00', title: 'è¨­è¨ˆå±•è¦½', location: 'æ¾å±±æ–‡å‰µåœ’å€', completed: false, weather: { temp: 24, condition: 'å¤šé›²', location: 'å°åŒ—' } },
                    { time: '12:30', title: 'æ¥µç°¡å’–å•¡å»³åˆé¤', location: 'æ¥µå…‰å’–å•¡', completed: false, weather: { temp: 25, condition: 'æ™´æœ—', location: 'å°åŒ—' } },
                    { time: '16:00', title: 'èˆ‡æœ‹å‹è¦–è¨Šæœƒè­°', location: 'å®¶ä¸­æ›¸æˆ¿', completed: true, weather: null },
                ],
                
                // --- è¨˜å¸³è³‡æ–™ ---
                expenseCategories: ['é¤é£²', 'äº¤é€š', 'ç”Ÿæ´»ç”¨å“', 'å¨›æ¨‚', 'é›œé …'],
                newExpense: {
                    category: '',
                    amount: null
                },
                expenses: [
                    { category: 'ç”Ÿæ´»ç”¨å“', amount: 599, date: '2025/12/08' },
                    { category: 'é¤é£²', amount: 120, date: '2025/12/08' },
                ],

                // --- è³¼ç‰©æ¸…å–®è³‡æ–™ ---
                newItemText: '',
                shoppingList: [
                    { text: 'åŒ—æ­é¢¨é¦™æ°›è Ÿç‡­', completed: false },
                    { text: 'æœ‰æ©Ÿæ£‰åºŠå–®', completed: true },
                    { text: 'ç‡•éº¥å¥¶', completed: false },
                ]
            }
        },
        computed: {
            pageTitle() {
                return this.pageTitles[this.currentPage] || 'ç°¡ç´„ç”Ÿæ´»åŠ©æ‰‹';
            },
            totalExpense() {
                return this.expenses.reduce((sum, exp) => sum + exp.amount, 0);
            }
        },
        methods: {
            changePage(page) {
                this.currentPage = page;
            },
            // Google Maps å°èˆªåŠŸèƒ½
            navigateTo(location) {
                // å¯¦éš›æ‡‰ç”¨ä¸­ï¼ŒGoogle Maps API key æ˜¯å¿…è¦çš„
                const url = `https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(location)}`;
                window.open(url, '_blank');
            },
            // è¨˜å¸³åŠŸèƒ½
            addExpense() {
                if (this.newExpense.category && this.newExpense.amount > 0) {
                    this.expenses.unshift({
                        category: this.newExpense.category,
                        amount: this.newExpense.amount,
                        date: new Date().toLocaleDateString('zh-TW', { year: 'numeric', month: '2-digit', day: '2-digit' }).replace(/\//g, '/').slice(0, -1) // æ ¼å¼åŒ–æ—¥æœŸ
                    });
                    // é‡ç½®è¡¨å–®
                    this.newExpense.category = '';
                    this.newExpense.amount = null;
                } else {
                    alert('è«‹é¸æ“‡é¡åˆ¥ä¸¦è¼¸å…¥æœ‰æ•ˆé‡‘é¡ï¼');
                }
            },
            categoryIcon(category) {
                switch (category) {
                    case 'é¤é£²': return 'fas fa-utensils text-orange-400';
                    case 'äº¤é€š': return 'fas fa-bus text-blue-400';
                    case 'ç”Ÿæ´»ç”¨å“': return 'fas fa-lightbulb text-yellow-400';
                    case 'å¨›æ¨‚': return 'fas fa-gamepad text-purple-400';
                    default: return 'fas fa-tag text-gray-400';
                }
            },
            // è³¼ç‰©æ¸…å–®åŠŸèƒ½
            addItem() {
                if (this.newItemText.trim() !== '') {
                    this.shoppingList.unshift({ text: this.newItemText.trim(), completed: false });
                    this.newItemText = '';
                }
            },
            removeItem(index) {
                this.shoppingList.splice(index, 1);
            }
        }
    }).mount('#app')
</script>

</body>
</html>
<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åŒ—æ­æ¥µç°¡æ—…éŠè¦åŠƒ App - æŒä¹…åŒ–ç‰ˆæœ¬</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #f0f4f8; }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        /* ç¢ºä¿åœ°åœ–å®¹å™¨å¡«æ»¿é«˜åº¦ */
        #map { height: 16rem; } 
    </style>
    
    <script async defer 
        src="https://maps.googleapis.com/maps/api/js?key=YOUR_GOOGLE_MAPS_API_KEY&libraries=places,geometry">
    </script>
</head>
<body>

    <div id="app"></div>

    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script>
        const { createApp, ref, computed, watch, nextTick } = Vue;

        // --- A. æ•¸æ“šæŒä¹…åŒ–èˆ‡é€šç”¨å‡½å¼ ---

        const STORAGE_KEY_TRIP = 'nordicTripData';
        const STORAGE_KEY_ACCOUNTING = 'nordicAccountingData';
        const STORAGE_KEY_SHOPPING = 'nordicShoppingList';

        // å¾ localStorage è®€å–æ•¸æ“š
        const loadData = (key, defaultData) => {
            try {
                const stored = localStorage.getItem(key);
                return stored ? JSON.parse(stored) : defaultData;
            } catch (e) {
                console.error("Error loading data from localStorage:", e);
                return defaultData;
            }
        };

        // å¯«å…¥æ•¸æ“šåˆ° localStorage
        const saveData = (key, data) => {
            try {
                localStorage.setItem(key, JSON.stringify(data));
            } catch (e) {
                console.error("Error saving data to localStorage:", e);
            }
        };

        // æ—¥æœŸè™•ç†å‡½å¼
        const getTripDates = (start, end) => {
            const dates = [];
            let current = new Date(start);
            const endDate = new Date(end);
            while (current <= endDate) {
                dates.push(formatDate(current));
                current.setDate(current.getDate() + 1);
            }
            return dates;
        };
        const formatDate = (date) => {
            const yyyy = date.getFullYear();
            const mm = String(date.getMonth() + 1).padStart(2, '0');
            const dd = String(date.getDate()).padStart(2, '0');
            const dayOfWeek = ['é€±æ—¥', 'é€±ä¸€', 'é€±äºŒ', 'é€±ä¸‰', 'é€±å››', 'é€±äº”', 'é€±å…­'][date.getDay()];
            return {
                full: `${yyyy}-${mm}-${dd}`,
                day: dd,
                month: `${mm}/`,
                dayOfWeek: dayOfWeek
            };
        };

        // è™›æ“¬è¡Œç¨‹æ•¸æ“š (åƒ…ç”¨æ–¼é¦–æ¬¡è¼‰å…¥æ™‚çš„é è¨­å€¼)
        const defaultTripData = {
            '2025-12-19': [
                { id: 1, time: '10:00', location: 'æŠµé”å¥§æ–¯é™¸åœ‹éš›æ©Ÿå ´', category: 'èˆªç­', notes: 'æº–å‚™è½‰ä¹˜ç«è»Š', weather: 'æ™´æ™‚å¤šé›²', temperature: '-5Â°C', weatherIcon: 'â˜€ï¸', lat: 60.197, lng: 11.100 },
                { id: 2, time: '14:00', location: 'æŒªå¨åœ‹å®¶ç¾è¡“é¤¨', category: 'æ™¯é»', notes: 'æ¬£è³å­Ÿå…‹ã€Šå¶å–Šã€‹', weather: 'å°é›ª', temperature: '-8Â°C', weatherIcon: 'ğŸŒ¨ï¸', lat: 59.913, lng: 10.738 },
            ],
            '2025-12-20': [
                { id: 3, time: '09:00', location: 'å¥§æ–¯é™¸å¤§æ•™å ‚', category: 'æ™¯é»', notes: 'ä½æ–¼å¸‚ä¸­å¿ƒ', weather: 'å¤§é›ª', temperature: '-10Â°C', weatherIcon: 'â„ï¸', lat: 59.912, lng: 10.750 },
                { id: 4, time: '12:30', location: 'Aker Brygge æµ·æ¸¯å€åˆé¤', category: 'ç¾é£Ÿ', notes: 'æ‰¾ä¸€å®¶æµ·é®®é¤å»³', weather: 'é™°å¤©', temperature: '-6Â°C', weatherIcon: 'â˜ï¸', lat: 59.907, lng: 10.722 },
            ],
            '2026-01-03': [
                { id: 5, time: '18:00', location: 'è¿”å›å°ç£èˆªç­', category: 'èˆªç­', notes: 'è¨˜å¾—é€€ç¨…', weather: 'å¤šé›²', temperature: '0Â°C', weatherIcon: 'â˜ï¸', lat: 60.197, lng: 11.100 },
            ],
        };

        // è¡Œç¨‹åˆ†é¡æ¨£å¼
        const categoryClasses = {
            'æ™¯é»': 'border-l-blue-400 bg-blue-50/50 text-blue-700',
            'äº¤é€š': 'border-l-green-400 bg-green-50/50 text-green-700',
            'èˆªç­': 'border-l-purple-400 bg-purple-50/50 text-purple-700',
            'ç¾é£Ÿ': 'border-l-red-400 bg-red-50/50 text-red-700',
            'è³¼ç‰©': 'border-l-yellow-400 bg-yellow-50/50 text-yellow-700',
            'å…¶ä»–': 'border-l-gray-300 bg-gray-100/50 text-gray-600',
        };
        const categories = ['æ™¯é»', 'äº¤é€š', 'èˆªç­', 'ç¾é£Ÿ', 'è³¼ç‰©', 'å…¶ä»–'];


        // --- B. Google åœ°åœ–é‚è¼¯ ---

        let map = null;
        let markers = [];

        // åˆå§‹åŒ–åœ°åœ–
        const initMap = (itinerary) => {
            // æª¢æŸ¥ Google Maps API æ˜¯å¦å·²è¼‰å…¥
            if (typeof google === 'undefined' || typeof google.maps === 'undefined') {
                console.error("Google Maps API å°šæœªè¼‰å…¥ã€‚è«‹æª¢æŸ¥ API Keyã€‚");
                return;
            }

            const mapElement = document.getElementById('map');
            if (!mapElement) return;

            // é è¨­åœ°åœ–ä¸­å¿ƒé» (å¥§æ–¯é™¸)
            const defaultCenter = { lat: 59.9139, lng: 10.7522 }; 
            
            // ç²å–ç•¶å¤©æ‰€æœ‰åœ°é»çš„ç¶“ç·¯åº¦
            const locations = itinerary.filter(item => item.lat && item.lng);

            if (!map) {
                map = new google.maps.Map(mapElement, {
                    zoom: 12,
                    center: defaultCenter,
                    mapTypeControl: false, // ç°¡åŒ– App ä»‹é¢
                    streetViewControl: false,
                    fullscreenControl: false,
                });
            }

            // 1. æ¸…é™¤èˆŠæ¨™è¨˜
            markers.forEach(marker => marker.setMap(null));
            markers = [];

            // 2. å‰µå»ºæ–°æ¨™è¨˜
            if (locations.length > 0) {
                const bounds = new google.maps.LatLngBounds();
                locations.forEach((item, index) => {
                    const marker = new google.maps.Marker({
                        position: { lat: item.lat, lng: item.lng },
                        map: map,
                        label: `${index + 1}`, // æ¨™è¨˜é †åº
                        title: item.location,
                    });
                    markers.push(marker);
                    bounds.extend(marker.getPosition());
                });

                // èª¿æ•´åœ°åœ–ä»¥åŒ…å«æ‰€æœ‰æ¨™è¨˜é»
                map.fitBounds(bounds);
            } else {
                 map.setCenter(defaultCenter);
                 map.setZoom(12);
            }
            
            // 3. é¡¯ç¤ºç•¶å‰ä½ç½® (Geolocation API)
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition((position) => {
                    const pos = {
                        lat: position.coords.latitude,
                        lng: position.coords.longitude,
                    };

                    new google.maps.Marker({
                        position: pos,
                        map: map,
                        icon: {
                            url: "http://maps.google.com/mapfiles/ms/icons/blue-dot.png" // è—è‰²åœ“é»ä»£è¡¨ç•¶å‰ä½ç½®
                        },
                        title: "æ‚¨çš„ç•¶å‰ä½ç½®",
                    });
                }, () => {
                    console.warn("ç„¡æ³•å–å¾—ç•¶å‰ä½ç½®ã€‚");
                });
            }

            // 4. æ¦‚å¿µæ€§å°èˆª (DirectionsService) - åƒ…ä½œæç¤º
            if (locations.length >= 2) {
                const directionsService = new google.maps.DirectionsService();
                const directionsRenderer = new google.maps.DirectionsRenderer({ map: map, suppressMarkers: true }); // ä¸é¡¯ç¤ºé è¨­æ¨™è¨˜

                const waypoints = locations.slice(1, -1).map(loc => ({
                    location: { lat: loc.lat, lng: loc.lng },
                    stopover: true
                }));

                directionsService.route({
                    origin: { lat: locations[0].lat, lng: locations[0].lng },
                    destination: { lat: locations[locations.length - 1].lat, lng: locations[locations.length - 1].lng },
                    waypoints: waypoints,
                    travelMode: google.maps.TravelMode.TRANSIT // å‡è¨­æ˜¯æ­ä¹˜å¤§çœ¾é‹è¼¸
                }, (response, status) => {
                    if (status === 'OK') {
                        directionsRenderer.setDirections(response);
                    } else {
                        console.error('Directions request failed due to ' + status);
                    }
                });
            }
        };


        // --- C. çµ„ä»¶å®šç¾©ï¼šè¨˜å¸³ç³»çµ± (å¯¦ä½œ localStorage) ---
        const AccountingSystem = {
            setup() {
                const expenses = ref(loadData(STORAGE_KEY_ACCOUNTING, []));
                const newExpense = ref({ description: '', amount: 0, category: 'é¤é£²' });
                const expenseCategories = ['é¤é£²', 'äº¤é€š', 'ä½å®¿', 'è³¼ç‰©', 'é–€ç¥¨', 'å…¶ä»–'];

                // ç›£è½ä¸¦ä¿å­˜
                watch(expenses, (newVal) => saveData(STORAGE_KEY_ACCOUNTING, newVal), { deep: true });

                const addExpense = () => {
                    if (newExpense.value.description && newExpense.value.amount > 0) {
                        expenses.value.unshift({ 
                            id: Date.now(), 
                            ...newExpense.value, 
                            date: new Date().toLocaleDateString('zh-TW') 
                        });
                        newExpense.value = { description: '', amount: 0, category: 'é¤é£²' };
                    }
                };

                const totalSpent = computed(() => {
                    return expenses.value.reduce((sum, item) => sum + Number(item.amount), 0);
                });

                return { expenses, newExpense, expenseCategories, addExpense, totalSpent };
            },
            template: `
                <div class="p-4">
                    <h2 class="text-2xl font-light text-gray-800 mb-4 border-b pb-2">ğŸ’° è¨˜å¸³ç³»çµ±</h2>
                    
                    <div class="bg-blue-600 text-white p-4 rounded-xl shadow-lg mb-4 text-center">
                        <p class="text-sm font-light">ç¸½èŠ±è²» (NTD)</p>
                        <p class="text-3xl font-extrabold">{{ totalSpent.toLocaleString() }}</p>
                    </div>

                    <div class="bg-white p-4 rounded-xl shadow-md mb-6">
                        <h3 class="font-bold text-gray-700 mb-3">æ–°å¢èŠ±è²»</h3>
                        <input v-model="newExpense.description" placeholder="èŠ±è²»æè¿° (e.g., å’–å•¡)" class="w-full p-2 mb-2 border rounded-lg text-sm focus:ring-blue-500">
                        <div class="flex space-x-2 mb-3">
                            <input v-model.number="newExpense.amount" type="number" placeholder="é‡‘é¡ (NTD)" class="w-1/2 p-2 border rounded-lg text-sm">
                            <select v-model="newExpense.category" class="w-1/2 p-2 border rounded-lg text-sm">
                                <option v-for="cat in expenseCategories" :key="cat" :value="cat">{{ cat }}</option>
                            </select>
                        </div>
                        <button @click="addExpense" class="w-full bg-green-500 text-white p-2 rounded-lg font-semibold hover:bg-green-600 transition-colors">
                            è¨˜éŒ„èŠ±è²»
                        </button>
                    </div>

                    <h3 class="font-bold text-gray-700 mb-3">èŠ±è²»ç´€éŒ„</h3>
                    <div v-for="exp in expenses" :key="exp.id" class="bg-white p-3 rounded-lg shadow-sm mb-2 flex justify-between items-center border-l-4 border-gray-200">
                        <div>
                            <p class="font-semibold text-gray-800">{{ exp.description }}</p>
                            <p class="text-xs text-gray-500">{{ exp.date }} - {{ exp.category }}</p>
                        </div>
                        <p class="text-lg font-bold text-red-600">NT$ {{ exp.amount.toLocaleString() }}</p>
                    </div>
                    <p v-if="expenses.length === 0" class="text-center text-gray-400 py-4">ç›®å‰æ²’æœ‰ä»»ä½•èŠ±è²»ç´€éŒ„ã€‚</p>
                </div>
            `
        };


        // --- D. çµ„ä»¶å®šç¾©ï¼šè³¼ç‰©æ¸…å–® (å¯¦ä½œ localStorage) ---
        const ShoppingList = {
            setup() {
                const items = ref(loadData(STORAGE_KEY_SHOPPING, []));
                const newItem = ref({ name: '', isBought: false });
                
                watch(items, (newVal) => saveData(STORAGE_KEY_SHOPPING, newVal), { deep: true });

                const addItem = () => {
                    if (newItem.value.name.trim()) {
                        items.value.unshift({ id: Date.now(), name: newItem.value.name.trim(), isBought: false });
                        newItem.value.name = '';
                    }
                };

                const deleteItem = (id) => {
                    items.value = items.value.filter(item => item.id !== id);
                };
                
                const toggleBought = (item) => {
                    item.isBought = !item.isBought;
                }

                return { items, newItem, addItem, deleteItem, toggleBought };
            },
            template: `
                <div class="p-4">
                    <h2 class="text-2xl font-light text-gray-800 mb-4 border-b pb-2">ğŸ›’ è³¼ç‰©æ¸…å–®</h2>
                    
                    <div class="bg-white p-4 rounded-xl shadow-md mb-6 flex space-x-2">
                        <input v-model="newItem.name" @keyup.enter="addItem" placeholder="å¾…è²·ç‰©å“åç¨± (e.g., éº‹é¹¿æ¯›è¡£)" class="flex-grow p-2 border rounded-lg text-sm focus:ring-blue-500">
                        <button @click="addItem" class="bg-blue-500 text-white p-2 rounded-lg font-semibold hover:bg-blue-600 transition-colors">
                            æ–°å¢
                        </button>
                    </div>

                    <h3 class="font-bold text-gray-700 mb-3">å¾…è²·æ¸…å–®</h3>
                    <div v-for="item in items" :key="item.id" class="bg-white p-3 rounded-lg shadow-sm mb-2 flex justify-between items-center border-l-4"
                         :class="item.isBought ? 'opacity-60 border-l-green-400' : 'border-l-blue-400'">
                        <div class="flex items-center space-x-3 cursor-pointer" @click="toggleBought(item)">
                            <input type="checkbox" :checked="item.isBought" class="form-checkbox text-green-500 rounded focus:ring-green-500">
                            <p class="font-semibold text-gray-800" :class="{'line-through': item.isBought}">{{ item.name }}</p>
                        </div>
                        <button @click="deleteItem(item.id)" class="text-red-400 hover:text-red-600 transition-colors">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>
                        </button>
                    </div>
                    <p v-if="items.length === 0" class="text-center text-gray-400 py-4">æ¸…å–®æ˜¯ç©ºçš„ï¼Œé–‹å§‹æ–°å¢è³¼ç‰©é …ç›®å§ï¼</p>
                </div>
            `
        };

        // --- E. çµ„ä»¶å®šç¾©ï¼šè¡Œç¨‹è¦åŠƒèˆ‡åœ°åœ– (æ ¸å¿ƒ) ---
        const TripPlanner = {
            setup() {
                const tripDates = getTripDates('2025-12-19', '2026-01-03');
                const selectedDate = ref(tripDates[0]);
                // å¾ localStorage è®€å–è¡Œç¨‹æ•¸æ“š
                const tripData = ref(loadData(STORAGE_KEY_TRIP, defaultTripData));
                let draggedIndex = ref(null);

                // ç›£è½ä¸¦ä¿å­˜è¡Œç¨‹æ•¸æ“š
                watch(tripData, (newVal) => saveData(STORAGE_KEY_TRIP, newVal), { deep: true });

                const currentItinerary = computed(() => {
                    return tripData.value[selectedDate.value.full] || [];
                });
                
                const selectDate = (date) => {
                    selectedDate.value = date;
                    nextTick(() => {
                        // ç•¶æ—¥æœŸæ”¹è®Šï¼Œåœ°åœ–éœ€è¦ç«‹å³æ›´æ–°
                        initMap(currentItinerary.value);
                    });
                };
                
                // æ‹–æ›³æ’åºé‚è¼¯ (åŒå‰)
                const dragStart = (index) => { draggedIndex.value = index; };
                const drop = (dropIndex) => {
                    if (draggedIndex.value !== null && draggedIndex.value !== dropIndex) {
                        const items = tripData.value[selectedDate.value.full];
                        const [draggedItem] = items.splice(draggedIndex.value, 1);
                        items.splice(dropIndex, 0, draggedItem);
                        draggedIndex.value = null;
                        // æ‹–æ›³å¾Œé †åºæ”¹è®Šï¼Œåœ°åœ–ä¹Ÿéœ€è¦æ›´æ–°è·¯å¾‘
                        nextTick(() => initMap(currentItinerary.value)); 
                    }
                };

                // åœ¨çµ„ä»¶é¦–æ¬¡æ›è¼‰æˆ–å…§å®¹æ›´æ–°å¾Œç«‹å³åˆå§‹åŒ–åœ°åœ–
                Vue.onMounted(() => {
                    // ç¢ºä¿ Google åœ°åœ–è…³æœ¬å·²è¼‰å…¥
                    if (window.google) {
                        initMap(currentItinerary.value);
                    } else {
                        // å¦‚æœè…³æœ¬æ˜¯ç•°æ­¥è¼‰å…¥ï¼Œç­‰å¾… window.google æº–å‚™å¥½
                        window.onload = () => initMap(currentItinerary.value);
                    }
                });

                // ç•¶è¡Œç¨‹æ•¸æ“šè®ŠåŒ–æ™‚ï¼Œåœ°åœ–ä¹Ÿæ‡‰æ›´æ–°
                watch(currentItinerary, (newItinerary) => {
                    nextTick(() => initMap(newItinerary));
                }, { deep: true });


                return { 
                    tripDates, selectedDate, currentItinerary, categoryClasses, categories, 
                    selectDate, dragStart, drop 
                };
            },
            template: `
                <div class="flex flex-col h-full bg-gray-50">
                    <div class="px-2 py-3 bg-white shadow-md overflow-x-auto whitespace-nowrap sticky top-0 z-10 no-scrollbar">
                        <button 
                            v-for="date in tripDates" 
                            :key="date.full" 
                            @click="selectDate(date)"
                            :class="['inline-flex flex-col items-center mx-1 p-2 rounded-xl transition-all duration-200 w-16', 
                                selectedDate.full === date.full ? 'bg-blue-100 text-blue-700 shadow-md transform scale-105' : 'bg-gray-100 text-gray-500 hover:bg-gray-200']"
                        >
                            <span class="text-xs font-bold">{{ date.dayOfWeek }}</span>
                            <span class="text-lg font-extrabold">{{ date.day }}</span>
                            <span class="text-xs">{{ date.month }}</span>
                        </button>
                    </div>

                    <div id="map" class="w-full relative border-b border-gray-300">
                        <div v-if="!window.google" class="absolute inset-0 h-full flex items-center justify-center text-gray-500 p-4 bg-gray-200">
                           <p class="text-center">åœ°åœ–è¼‰å…¥ä¸­... (è«‹ç¢ºèª API Key)</p>
                        </div>
                    </div>

                    <div class="flex-1 p-4 overflow-y-auto">
                        <h2 class="text-xl font-light text-gray-800 mb-3">
                            è¡Œç¨‹åˆ—è¡¨
                        </h2>
                        <div v-if="currentItinerary.length === 0" class="text-center py-12 text-gray-400 bg-white rounded-xl shadow-md">
                            <p>ä»Šæ—¥è¡Œç¨‹ç‚ºç©ºï¼Œé–‹å§‹è¦åŠƒå§ï¼</p>
                        </div>

                        <div v-else>
                            <div v-for="(item, index) in currentItinerary" :key="item.id" 
                                class="bg-white rounded-xl shadow-md p-4 mb-3 transition-all duration-300 hover:shadow-lg cursor-grab"
                                :class="[categoryClasses[item.category] || 'border-l-gray-300', draggedIndex === index ? 'opacity-50 border-dashed scale-[0.98]' : '']"
                                draggable="true" @dragstart="dragStart(index)" @dragover.prevent @drop="drop(index)">
                                
                                <div class="flex justify-between items-start mb-2">
                                    <div class="flex items-center">
                                        <span class="text-sm font-bold text-gray-800 mr-2">{{ item.time }}</span>
                                        <span :class="['text-xs font-medium px-2 py-0.5 rounded-full']"
                                              :style="{ backgroundColor: (item.category === 'æ™¯é»' ? '#DBEAFE' : item.category === 'ç¾é£Ÿ' ? '#FEE2E2' : '#F3F4F6') }">
                                            {{ item.category }}
                                        </span>
                                    </div>
                                    <button class="text-gray-400 hover:text-gray-600 focus:outline-none">
                                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
                                    </button>
                                </div>

                                <h3 class="text-lg font-semibold text-gray-800">{{ item.location }}</h3>
                                
                                <div class="mt-2 text-sm">
                                    <p class="flex items-center text-blue-600 font-medium">
                                        <span class="text-xl mr-1">{{ item.weatherIcon }}</span> 
                                        {{ item.temperature }} | {{ item.weather }}
                                    </p>
                                    <p v-if="item.notes" class="mt-1 border-t border-gray-100 pt-1 text-gray-500 italic">å‚™è¨»: {{ item.notes }}</p>
                                    <p class="text-xs text-gray-400">Lat: {{ item.lat }}, Lng: {{ item.lng }}</p>
                                </div>

                                <div class="mt-3 flex justify-end space-x-2 border-t pt-2">
                                    <button class="text-xs text-blue-500 hover:text-blue-700">ç·¨è¼¯</button>
                                    <button class="text-xs text-red-500 hover:text-red-700">åˆªé™¤</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <button class="fixed right-6 bottom-20 w-12 h-12 bg-blue-600 text-white rounded-full shadow-xl hover:bg-blue-700 transition-colors flex items-center justify-center text-2xl font-bold z-20">
                        +
                    </button>
                </div>
            `
        };


        // --- F. ä¸»è¦ App çµæ§‹ ---
        const App = {
            components: { TripPlanner, AccountingSystem, ShoppingList },
            setup() {
                const tabs = [
                    { name: 'è¡Œç¨‹åœ°åœ–', icon: 'ğŸ—ºï¸', component: 'TripPlanner' },
                    { name: 'è¨˜å¸³', icon: 'ğŸ’°', component: 'AccountingSystem' },
                    { name: 'è³¼ç‰©æ¸…å–®', icon: 'ğŸ›’', component: 'ShoppingList' },
                ];
                const currentView = ref('TripPlanner');

                return { tabs, currentView };
            },
            template: `
                <div class="max-w-md mx-auto min-h-screen bg-gray-50 shadow-2xl overflow-hidden relative border-x-4 border-gray-900">
                    <header class="p-4 bg-white/95 backdrop-blur-sm sticky top-0 z-20 shadow-sm border-b border-gray-200">
                        <h1 class="text-xl font-light text-gray-800 tracking-wider">â„ï¸ åŒ—æ­æ¥µå…‰ä¹‹æ—…</h1>
                    </header>

                    <main class="h-[calc(100vh-120px)] overflow-y-auto pb-4">
                        <component :is="currentView" />
                    </main>

                    <nav class="sticky bottom-0 bg-white/95 backdrop-blur-md border-t border-gray-200 shadow-lg flex justify-around py-3 z-30">
                        <button 
                            v-for="tab in tabs" 
                            :key="tab.name" 
                            @click="currentView = tab.component"
                            :class="['flex flex-col items-center p-2 rounded-lg transition-colors', currentView === tab.component ? 'text-blue-600 bg-blue-50/70' : 'text-gray-500 hover:text-gray-700']"
                        >
                            <span class="text-xl">{{ tab.icon }}</span>
                            <span class="text-xs mt-1 font-medium">{{ tab.name }}</span>
                        </button>
                    </nav>
                </div>
            `
        };

        // å•Ÿå‹• Vue App
        createApp(App).mount('#app');
    </script>
</body>
</html>

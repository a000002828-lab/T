<div id="app" class="app-container hidden"> 
    
    <div class="p-4 pt-6" v-if="travelDates.length">
        
        <div v-show="activeTab === 'itinerary'">
            <div class="space-y-4">
                <div v-for="element in currentItinerary" :key="element.id" 
                    class="card p-4 relative border-l-4" 
                    :class="{'border-red-400': element.category === 'èˆªç­', 'border-green-400': element.category === 'ç¾é£Ÿ', 'border-nordic-blue': element.category === 'æ™¯é»', 'border-yellow-400': element.category === 'äº¤é€š', 'border-pink-400': element.category === 'ä½å®¿', 'border-purple-400': element.category === 'è³¼ç‰©', 'border-nordic-accent': element.aurora && element.aurora.kp > 3}"
                >
                    <div class="flex justify-between items-start">
                        <div class="flex-grow">
                            <p class="text-sm font-medium text-gray-500 mb-1">
                                {{ element.time }} 
                                <span :class="{'bg-red-100 text-red-700': element.category === 'èˆªç­', 'bg-nordic-light text-nordic-dark': element.category !== 'èˆªç­', 'bg-purple-100 text-purple-700 font-bold': element.aurora}" class="ml-2 px-2 py-0.5 rounded-full text-xs font-semibold">{{ element.category }}</span>
                            </p>
                            <h3 class="text-lg font-bold text-gray-800 mb-1">{{ element.location }}</h3>
                            
                            <div v-if="element.aurora" class="mt-3 p-3 rounded-lg bg-nordic-light border border-nordic-blue/50">
                                <p class="text-xs font-bold text-nordic-dark mb-1 flex items-center">
                                    <span class="mr-1">âœ¨ æ¥µå…‰é å ± ({{ element.aurora.source }})</span> 
                                    <span class="text-sm font-extrabold" :class="{'text-green-600': element.aurora.kp < 4, 'text-red-600': element.aurora.kp >= 5}">KP {{ element.aurora.kp.toFixed(1) }}</span>
                                </p>
                                <p class="text-xs text-gray-600">
                                    æœ€ä½³è§€è³æ™‚æ®µ: **{{ element.aurora.time }}** (ç•¶åœ°æ™‚é–“)
                                </p>
                            </div>
                            <p v-if="element.notes" class="text-sm text-gray-600 border-l-2 border-gray-200 pl-2 mt-2 italic">{{ element.notes }}</p>
                            
                            <div v-if="element.lat && element.lng" class="mt-3">
                                <a :href="getGoogleMapLink(element)" target="_blank" class="google-link-as-text text-sm font-medium inline-flex items-center">
                                    æŸ¥çœ‹åœ°åœ– ğŸ—ºï¸
                                </a>
                            </div>
                            </div>
                        </div>
                </div>
            </div>
            </div>

        </div>

    </div>

<script>
// ... (Vue Setup and Global Constants remain the same) ...

function mountVueApp() {
    const app = createApp({
        setup() {
            // ... (Tabs and Setup remains the same) ...
            
            // --- è¡Œç¨‹è³‡æ–™ (å·²æ›´æ–°ç‚ºæ‚¨çš„ 16 å¤©åŒ—æ­è¡Œç¨‹) ---
            const itinerary = ref({
                // ... (Day 1 - Day 3 ä¿æŒä¸è®Š) ...
                
                // Day 4: 12/22 (ä¸€) - ç¾…ç“¦æ¶…ç±³ (Rovaniemi, Finland)
                '2025-12-22': [
                    { id: 401, time: '10:59', location: 'æŠµé”ç¾…ç“¦æ¶…ç±³ç«è»Šç«™', category: 'äº¤é€š', notes: 'ç«è»ŠæŠµé”', lat: 66.5055, lng: 25.7335 },
                    { id: 402, time: '12:00', location: 'Villa Muru Check-in/å¯„æ”¾è¡Œæ', category: 'ä½å®¿', notes: 'KW è¨‚çš„ä½å®¿', lat: 66.5020, lng: 25.7250 },
                    { id: 403, time: '14:00', location: 'è–èª•è€äººæ‘ (Santa Claus Village)', category: 'æ™¯é»', notes: 'è·¨è¶ŠåŒ—æ¥µåœˆç·šã€æ‰¾è–èª•è€äºº', lat: 66.5434, lng: 25.8491 },
                    { id: 404, time: '17:00', location: 'é¦´é¹¿é›ªæ©‡é«”é©—', category: 'æ™¯é»', notes: 'è¦æ­çš„äººæ­', lat: 66.5434, lng: 25.8491 },
                    { id: 405, time: '20:00', location: 'æ¥µå…‰åœ˜ (Get your guide)', category: 'æ™¯é»', notes: 'å·²é è¨‚', lat: 66.5000, lng: 25.7500, **aurora: { kp: 3.5, time: '21:00-01:00', source: 'NOAA' }** }, // ğŸŒŸ æ–°å¢ KP/æ™‚é–“
                ],

                // Day 5: 12/23 (äºŒ) - ç¾…ç“¦æ¶…ç±³
                '2025-12-23': [
                    { id: 501, time: '09:00', location: 'Villa Muru ä½å®¿', category: 'ä½å®¿', notes: 'æ—©é¤è‡ªå·±ç…®ã€ç©é›ªã€æ¸¯å£èµ°èµ°', lat: 66.5020, lng: 25.7250 },
                    { id: 502, time: '13:00', location: 'æœ€åŒ—éº¥ç•¶å‹', category: 'ç¾é£Ÿ', notes: 'æ‰“å¡ç´€å¿µ', lat: 66.4950, lng: 25.7340 },
                    { id: 503, time: '21:00', location: 'æ¥µå…‰åœ˜ (Get Your Guide by KW)', category: 'æ™¯é»', notes: 'æœƒæ´¾è»Šä¾†æ°‘å®¿æ¥äºº', lat: 66.5020, lng: 25.7250, **aurora: { kp: 4.8, time: '22:30-02:00', source: 'NOAA' }** }, // ğŸŒŸ æ–°å¢ KP/æ™‚é–“
                ],

                // Day 6: 12/24 (ä¸‰) - ç‰¹ç¾…å§†ç‘Ÿ (TromsÃ¸, Norway)
                '2025-12-24': [
                    { id: 601, time: '07:00', location: 'ç¾…ç“¦æ¶…ç±³æ©Ÿå ´ (RVN)', category: 'äº¤é€š', notes: 'æº–å‚™æ­æ©Ÿ', lat: 66.5615, lng: 25.8304 },
                    { id: 602, time: '08:50', location: 'RVN âœˆ TOS (ç¶“HELè½‰æ©Ÿ)', category: 'èˆªç­', notes: 'æŠµé”ç‰¹ç¾…å§†ç‘Ÿç´„12:30', lat: 66.5615, lng: 25.8304 },
                    { id: 603, time: '13:30', location: 'Check-in @ Scandic Ishavshotel', category: 'ä½å®¿', notes: 'è–èª•å¤œï¼Œå¸‚å€é€›é€›ï¼Œæ™šé¤è‡ªç†', lat: 69.6482, lng: 18.9482 },
                    { id: 604, time: '22:00', location: 'è‡ªç”±è§€æ¸¬ (ç‰¹ç¾…å§†ç‘Ÿæ¸¯å£)', category: 'æ™¯é»', notes: 'è–èª•å¤œæ´»å‹•å¯èƒ½æš«åœï¼Œè‡ªè¡Œè§€æ¸¬', lat: 69.6482, lng: 18.9482, **aurora: { kp: 3.2, time: '23:00-01:30', source: 'NOAA' }** }, // ğŸŒŸ æ–°å¢ KP/æ™‚é–“
                ],

                // Day 7: 12/25 (å››) - ç‰¹ç¾…å§†ç‘Ÿ
                '2025-12-25': [
                    { id: 701, time: '10:00', location: 'ç‰¹ç¾…å§†ç‘Ÿçºœè»Š (Fjellheisen)', category: 'æ™¯é»', notes: 'ä¸Šå±±çœ‹åŸå¸‚æ™¯è§€', lat: 69.6547, lng: 19.0069 },
                    { id: 702, time: '15:00', location: 'åŒ—æ¥µå¤§æ•™å ‚ (Arctic Cathedral)', category: 'æ™¯é»', notes: 'è–èª•ç¯€åƒè§€', lat: 69.6465, lng: 18.9959 },
                    { id: 703, time: '20:00', location: 'è¿½æ¥µå…‰åœ˜ (Northern Lights Tour)', category: 'æ™¯é»', notes: 'å·²é è¨‚/è‡ªè¡Œè¿½å…‰', lat: 69.6500, lng: 18.9500, **aurora: { kp: 5.1, time: '21:30-00:30', source: 'NOAA' }** }, // ğŸŒŸ æ–°å¢ KP/æ™‚é–“
                ],

                // Day 8: 12/26 (äº”) - ç‰¹ç¾…å§†ç‘Ÿ
                '2025-12-26': [
                    { id: 801, time: '09:00', location: 'Scandic Ishavshotel', category: 'ä½å®¿', notes: 'åœ¨é…’åº—é™„è¿‘é–’é€›', lat: 69.6482, lng: 18.9482 },
                    { id: 802, time: '11:00', location: 'åŒ—æ¥µåšç‰©é¤¨ (Polaria)', category: 'æ™¯é»', notes: 'åƒè§€æ¥µåœ°ç”Ÿæ…‹èˆ‡ç’°å¢ƒ', lat: 69.6466, lng: 18.9440 },
                    { id: 803, time: '14:00', location: 'åˆé¤ @ Fische-Kompagniet', category: 'ç¾é£Ÿ', notes: 'ç‰¹ç¾…å§†ç‘Ÿè‘—åæµ·é®®é¤å»³', lat: 69.6480, lng: 18.9560 },
                    { id: 804, time: '21:00', location: 'è¿½æ¥µå…‰å‚™ç”¨æ—¥', category: 'æ™¯é»', notes: 'å¦‚æœå‰å…©å¤©æ²’çœ‹åˆ°ï¼Œç•¶å¤©å†è¿½ä¸€æ¬¡', lat: 69.6500, lng: 18.9500, **aurora: { kp: 2.8, time: '20:00-23:00', source: 'NOAA' }** }, // ğŸŒŸ æ–°å¢ KP/æ™‚é–“
                ],

                // ... (Day 9 - Day 16 ä¿æŒä¸è®Š) ...
                
            // ... (rest of the itinerary and methods remain the same) ...
            
</script>
